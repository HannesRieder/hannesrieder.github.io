<!doctype html>
<html lang="de">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <meta name="description" content="digital portfolio - work in progress">

    <link rel="icon" type="image/x-icon" href="faviconn.ico">

  <title>hannes.</title>

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;500;700&display=swap" rel="stylesheet">

  <style>
    :root{
      --bg: #000;
      --fg: #fff;
      --muted: rgba(255,255,255,0.65);
      --panel: rgba(0,0,0,0.92);
      --border: rgba(255,255,255,0.18);
      --accent: #00d4ff;
    }

    * { box-sizing: border-box; margin:0; padding:0; }
    html, body { height:100%; }
    body{
      font-family: "Space Grotesk", system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      background: var(--bg);
      color: var(--fg);
      overflow: hidden; /* no scroll */
    }

    /* Background physics */
#matter-bg{
  position: fixed;
  inset: 0;
  z-index: 0;
  pointer-events: auto; /* allow dragging */
}

.topbar, .center, .overlay { position: fixed; z-index: 10; }
.topbar { z-index: 20; }
.overlay { z-index: 30; }
    .topbar { height: 92px; }



    /* hidden svg bin */
    #svg-bin{
      position:absolute; left:-99999px; top:-99999px;
      width:1px; height:1px; overflow:hidden; opacity:0; pointer-events:none;
    }

    /* Top bar */
    .topbar{
      position: fixed;
      inset: 0 0 auto 0;
      height: 72px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 0 22px;
      z-index: 20;
      pointer-events: none; /* only children clickable */
    }

    .logo{
      pointer-events: auto;
      display: inline-flex;
      align-items: center;
      gap: 10px;
      user-select: none;
      text-decoration: none;
      color: var(--fg);
      opacity: 0.92;
    }
    .logo-badge{
      width: 30px; height: 30px;
      border: 1px solid var(--border);
      border-radius: 10px;
      display:flex; align-items:center; justify-content:center;
      font-weight: 700;
      letter-spacing: -0.02em;
    }
    .logo-text{
      font-weight: 600;
      font-size: 14px;
      letter-spacing: 0.02em;
      opacity: 0.85;
    }

    /* logo stack (2 lines) */
.logo-stack{
  pointer-events: auto;          /* makes both links clickable */
  display: flex;
  flex-direction: column;
  gap: 6px;                      /* space between hannes + sc uploader */
  align-items: flex-start;
}

/* sc uploader link */
.sc-link{
  pointer-events: auto;
  display: inline-flex;
  align-items: center;
  gap: 10px;
  user-select: none;
  text-decoration: none;
  color: var(--fg);
  opacity: 0.72;
  transform: translateY(-2px);   /* sits nicely under the top logo */
  font-size: 12px;
}

.sc-link:hover{
  opacity: 0.95;
  color: var(--accent);
}

.sc-link:focus-visible{
  outline: 2px solid var(--accent);
  outline-offset: 4px;
  border-radius: 10px;
}

.sc-badge{
  width: 30px; height: 22px;
  border: 1px solid var(--border);
  border-radius: 10px;
  display:flex; align-items:center; justify-content:center;
  font-weight: 700;
  letter-spacing: -0.02em;
  font-size: 12px;
  line-height: 1;
  opacity: 0.9;
}

.sc-text{
  font-weight: 600;
  letter-spacing: 0.02em;
  opacity: 0.9;
}


    /* Burger */
    .burger{
      pointer-events: auto;
      width: 44px;
      height: 44px;
      border-radius: 14px;
      border: 1px solid var(--border);
      background: rgba(0,0,0,0.35);
      backdrop-filter: blur(10px);
      display:flex;
      align-items:center;
      justify-content:center;
      cursor: pointer;
    }
    .burger:focus-visible{
      outline: 2px solid var(--accent);
      outline-offset: 4px;
    }
    .burger-lines{
      width: 18px;
      height: 14px;
      position: relative;
    }
    .burger-lines span{
      position:absolute;
      left:0; right:0;
      height: 2px;
      background: var(--fg);
      border-radius: 2px;
      transition: transform .25s ease, opacity .2s ease, top .25s ease;
    }
    .burger-lines span:nth-child(1){ top: 0; }
    .burger-lines span:nth-child(2){ top: 6px; opacity: 0.9; }
    .burger-lines span:nth-child(3){ top: 12px; }

    .burger.is-open .burger-lines span:nth-child(1){ top: 6px; transform: rotate(45deg); }
    .burger.is-open .burger-lines span:nth-child(2){ opacity: 0; }
    .burger.is-open .burger-lines span:nth-child(3){ top: 6px; transform: rotate(-45deg); }

    /* Center content */
    .center{
      position: fixed;
      inset: 0;
      display:flex;
      flex-direction: column;
      align-items:center;
      justify-content:center;
      text-align:center;
      z-index: 10;
      padding: 0 18px;
      pointer-events: none; /* only interactive elements enable */
    }

    .name{
      pointer-events: none;
      font-size: clamp(20px, 2.2vw, 30px);
      font-weight: 500;
      letter-spacing: 0.02em;
      opacity: 0.96;
    }

    .subtitle{
      margin-top: 10px;
      font-size: 14px;
      color: var(--muted);
      opacity: 0.9;
      pointer-events: none;
    }

    .social{
      pointer-events: auto;
      margin-top: 18px;
      display:flex;
      gap: 16px;
      align-items:center;
      justify-content:center;
    }
    .social a{
      width: 44px;
      height: 44px;
      border-radius: 14px;
      border: 1px solid var(--border);
      background: rgba(0,0,0,0.35);
      backdrop-filter: blur(10px);
      display:flex;
      align-items:center;
      justify-content:center;
      color: var(--fg);
      text-decoration:none;
      transition: transform .18s ease, border-color .18s ease, color .18s ease;
    }
    .social a:hover{
      transform: translateY(-2px);
      border-color: rgba(255,255,255,0.35);
      color: var(--accent);
    }
    .social a:focus-visible{
      outline: 2px solid var(--accent);
      outline-offset: 4px;
    }

    /* Menu overlay */
    .overlay{
      position: fixed;
      inset: 0;
      z-index: 30;
      background: rgba(0,0,0,0.35);
      backdrop-filter: blur(6px);
      opacity: 0;
      pointer-events: none;
      transition: opacity .2s ease;
    }
    .overlay.is-open{
      opacity: 1;
      pointer-events: auto;
    }

    .panel{
      position: absolute;
      top: 86px;
      right: 22px;
      width: min(520px, calc(100% - 44px));
      border-radius: 18px;
      border: 1px solid var(--border);
      background: var(--panel);
      overflow: hidden;
      transform: translateY(-8px);
      opacity: 0;
      transition: transform .22s ease, opacity .22s ease;
    }
    .overlay.is-open .panel{
      transform: translateY(0);
      opacity: 1;
    }

    .panel-header{
      display:flex;
      align-items:center;
      justify-content: space-between;
      padding: 14px 16px;
      border-bottom: 1px solid rgba(255,255,255,0.08);
    }
    .panel-title{
      font-weight: 650;
      letter-spacing: 0.01em;
      font-size: 14px;
      opacity: 0.95;
    }
    .panel-close{
      width: 40px;
      height: 40px;
      border-radius: 12px;
      border: 1px solid rgba(255,255,255,0.14);
      background: rgba(255,255,255,0.06);
      color: var(--fg);
      cursor: pointer;
    }

    .tabs{
      display:flex;
      gap: 8px;
      padding: 12px 16px 0 16px;
      flex-wrap: wrap;
    }
    .tab{
      border: 1px solid rgba(255,255,255,0.14);
      background: rgba(255,255,255,0.05);
      color: var(--fg);
      padding: 10px 12px;
      border-radius: 14px;
      font-size: 13px;
      cursor: pointer;
      transition: border-color .18s ease, color .18s ease;
    }
    .tab:hover{ border-color: rgba(255,255,255,0.3); }
    .tab[aria-selected="true"]{
      border-color: rgba(255,255,255,0.4);
      color: var(--accent);
    }

    .content{
      padding: 14px 16px 18px 16px;
      color: rgba(255,255,255,0.82);
      font-size: 14px;
      line-height: 1.55;
      max-height: min(62vh, 520px);
      overflow: auto;
    }
    .content h3{
      margin: 10px 0 6px 0;
      font-size: 14px;
      color: rgba(255,255,255,0.92);
    }
    .content ul{ margin-left: 16px; margin-top: 8px; }
    .content li{ margin: 6px 0; }

    /* small hint bottom */
    .hint{
      position: fixed;
      left: 50%;
      bottom: 18px;
      transform: translateX(-50%);
      z-index: 10;
      font-size: 12px;
      color: rgba(255,255,255,0.45);
      pointer-events: none;
      user-select: none;
    }
  </style>
</head>

<body>

  <!-- Physics background mount -->
  <div id="matter-bg" aria-hidden="true"></div>

  <!-- Hidden SVG mount -->
  <div id="svg-bin" aria-hidden="true"></div>

<header class="topbar">

  <div class="logo-stack" aria-label="Home">
    <a class="logo" href="#" aria-label="Home">
      <span class="logo-badge">h</span>
      <span class="logo-text">hannes</span>
    </a>

    <a class="sc-link"
       href="https://sc.hannesrieder.ch"
       target="_blank"
       rel="noopener noreferrer"
       aria-label="sc uploader">
      <span class="sc-badge">sc</span>
      <span class="sc-text">uploader</span>
    </a>
  </div>

  <button class="burger"
          id="burger"
          type="button"
          aria-haspopup="dialog"
          aria-expanded="false"
          aria-controls="menu-overlay"
          aria-label="Open menu">
    <span class="burger-lines" aria-hidden="true">
      <span></span><span></span><span></span>
    </span>
  </button>

</header>


  <!-- Center content -->
  <main class="center" aria-label="Homepage">
    <div class="name">hannes rieder</div>
    <div class="subtitle">digital portfolio</div>

    <nav class="social" aria-label="Social links">
      <a href="https://instagram.com/riederhannes" target="_blank" rel="noopener noreferrer" aria-label="Instagram">
        <i class="fab fa-instagram"></i>
      </a>
      <a href="https://linkedin.com/in/hannesrieder" target="_blank" rel="noopener noreferrer" aria-label="LinkedIn">
        <i class="fab fa-linkedin-in"></i>
      </a>
      <a href="mailto:a@hannesrieder.ch" aria-label="Email">
        <i class="fas fa-envelope"></i>
      </a>
    </nav>
  </main>

  <div class="hint">drag disabled â€¢ press M for menu</div>

  <!-- Menu overlay -->
  <div class="overlay" id="menu-overlay" role="dialog" aria-modal="true" aria-label="Menu">
    <div class="panel">
      <div class="panel-header">
        <div class="panel-title">menu</div>
        <button class="panel-close" id="close-menu" type="button" aria-label="Close menu">
          <i class="fa-solid fa-xmark"></i>
        </button>
      </div>

      <div class="tabs" role="tablist" aria-label="Sections">
        <button class="tab" role="tab" aria-selected="true" data-tab="about">about me</button>
        <button class="tab" role="tab" aria-selected="false" data-tab="skills">skills</button>
        <button class="tab" role="tab" aria-selected="false" data-tab="projects">projects</button>
      </div>

      <div class="content" id="panel-content">
        <!-- filled by JS -->
      </div>
    </div>
  </div>

  <!-- Matter dependencies -->
  <script src="https://cdn.jsdelivr.net/npm/pathseg@1.2.1/pathseg.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/matter-js@0.20.0/build/matter.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/poly-decomp@0.3.0/build/decomp.min.js"></script>

  <script>
  // ---------- MENU (no scrolling site; overlay panels) ----------
  (() => {
    const burger = document.getElementById("burger");
    const overlay = document.getElementById("menu-overlay");
    const closeBtn = document.getElementById("close-menu");
    const tabs = Array.from(document.querySelectorAll(".tab"));
    const content = document.getElementById("panel-content");

    const panels = {
      about: `
        <h3>hi.</h3>
        <p>Ich heisse Hannes und bin in der Ausbildung zum Mediamatiker. Ich liebe Design, Web-Experimente und digitale Projekte.</p>
        <h3>focus</h3>
        <ul>
          <li>Web design & interaction</li>
          <li>Content / Foto / Video</li>
          <li>Creative coding</li>
        </ul>
      `,
      skills: `
        <h3>skills</h3>
        <ul>
          <li>HTML, CSS, JavaScript, TypeScript</li>
          <li>Three.js, Matter.js, Zdog</li>
          <li>Premiere / Photoshop</li>
          <li>Node.js / Basic Backend</li>
        </ul>
      `,
      projects: `
        <h3>projects</h3>
        <p>Coming Soon</p>

      `
    };

    function setTab(key){
      tabs.forEach(t => t.setAttribute("aria-selected", String(t.dataset.tab === key)));
      content.innerHTML = panels[key] || "";
    }

    function openMenu(){
      overlay.classList.add("is-open");
      burger.classList.add("is-open");
      burger.setAttribute("aria-expanded", "true");
    }
    function closeMenu(){
      overlay.classList.remove("is-open");
      burger.classList.remove("is-open");
      burger.setAttribute("aria-expanded", "false");
    }

    burger.addEventListener("click", () => {
      overlay.classList.contains("is-open") ? closeMenu() : openMenu();
    });

    closeBtn.addEventListener("click", closeMenu);
    overlay.addEventListener("click", (e) => { if (e.target === overlay) closeMenu(); });

    tabs.forEach(t => t.addEventListener("click", () => setTab(t.dataset.tab)));

    // keyboard
    addEventListener("keydown", (e) => {
      if (e.key === "Escape") closeMenu();
      if (e.key.toLowerCase() === "m") {
        overlay.classList.contains("is-open") ? closeMenu() : openMenu();
      }
    });

    // init
    setTab("about");
  })();
  </script>

<script>
(() => {
  const mountEl = document.getElementById("matter-bg");
  const svgBin = document.getElementById("svg-bin");
  if (!mountEl || !svgBin) return;

const {
  Engine, Render, Runner, Composite, Bodies, Body,
  Mouse, MouseConstraint,
  Svg, Vertices, Common
} = Matter;


  if (window.decomp) Common.setDecomp(window.decomp);

  const engine = Engine.create();
  engine.gravity.y = 1;

  const render = Render.create({
    element: mountEl,
    engine,
    options: {
      width: mountEl.clientWidth,
      height: mountEl.clientHeight,
      wireframes: false,
      background: "transparent",
      pixelRatio: devicePixelRatio || 1
    }
  });

  Render.run(render);
  const runner = Runner.create();
  Runner.run(runner, engine);

  // --- helpers
  const select = (root, sel) => Array.from(root.querySelectorAll(sel));

  async function fetchSvgText(url) {
    const res = await fetch(url);
    if (!res.ok) throw new Error(`Failed to fetch ${url} (${res.status})`);
    return await res.text();
  }

  function mountSvg(svgText) {
    svgBin.innerHTML = svgText;
    return svgBin.querySelector("svg");
  }

  function unmountSvg() {
    svgBin.innerHTML = "";
  }

  function bounds(verts) {
    let minX = 1e9, minY = 1e9, maxX = -1e9, maxY = -1e9;
    for (const v of verts) {
      if (v.x < minX) minX = v.x;
      if (v.y < minY) minY = v.y;
      if (v.x > maxX) maxX = v.x;
      if (v.y > maxY) maxY = v.y;
    }
    return {
      minX, minY, maxX, maxY,
      w: maxX - minX,
      h: maxY - minY,
      cx: (minX + maxX) / 2,
      cy: (minY + maxY) / 2
    };
  }

  function applyStyle(body) {
    const style = {
      fillStyle: "rgba(255,255,255,0.10)",
      strokeStyle: "rgba(0,0,0,0)",
      lineWidth: 0
    };
    body.render.visible = true;
    Object.assign(body.render, style);
    if (body.parts) body.parts.forEach(p => Object.assign(p.render, style));
  }

  function svgToVertexSets(svgEl, scale) {
    const paths = select(svgEl, "path");
    if (!paths.length) return { sets: [], width: 0, height: 0 };

    const sample = 90; // smooth for big letters
    const sets = paths.map(p => {
      const v = Svg.pathToVertices(p, sample);
      return Vertices.scale(v, scale, scale);
    });

    let all = [];
    sets.forEach(s => all = all.concat(s));
    if (!all.length) return { sets: [], width: 0, height: 0 };

    const b = bounds(all);
    sets.forEach(s => s.forEach(v => { v.x -= b.cx; v.y -= b.cy; }));

    return { sets, width: b.w, height: b.h };
  }

  function makeLetterBody(x, y, sets, label) {
    let body = Bodies.fromVertices(
      x, y, sets,
      { restitution: 0.2, friction: 0.22, frictionAir: 0.02 },
      true
    );

    if (!body) {
      console.warn("fromVertices null for", label);
      return null;
    }

    // If matter returns multiple bodies, add them all; return the first
    if (Array.isArray(body)) {
      body.forEach(b => { applyStyle(b); Composite.add(engine.world, b); });
      return body[0] || null;
    }

    applyStyle(body);
    Composite.add(engine.world, body);
    return body;
  }

  // --- walls (NO TOP WALL)
  const WALL = 320;
  let walls = [];

  function rebuildWalls(w, h) {
    if (walls.length) Composite.remove(engine.world, walls);

    const opts = { isStatic: true, render: { visible: false } };

    const bottom = Bodies.rectangle(w / 2, h + WALL / 2, w + WALL * 2, WALL, opts);
    const left   = Bodies.rectangle(-WALL / 2, h / 2, WALL, h + WALL * 2, opts);
    const right  = Bodies.rectangle(w + WALL / 2, h / 2, WALL, h + WALL * 2, opts);

    walls = [bottom, left, right];
    Composite.add(engine.world, walls);
  }

  function resize() {
    const w = mountEl.clientWidth || innerWidth;
    const h = mountEl.clientHeight || innerHeight;
    const pr = devicePixelRatio || 1;

    render.options.width = w;
    render.options.height = h;
    render.options.pixelRatio = pr;

    render.canvas.width = w * pr;
    render.canvas.height = h * pr;
    render.canvas.style.width = w + "px";
    render.canvas.style.height = h + "px";

    rebuildWalls(w, h);
    Matter.Render.lookAt(render, { min: { x: 0, y: 0 }, max: { x: w, y: h } });
  }

  addEventListener("resize", resize);
  resize();

  // --- Mouse drag
const mouse = Mouse.create(render.canvas);

// fix mouse scaling with high-DPI canvas
mouse.pixelRatio = render.options.pixelRatio || (devicePixelRatio || 1);

const mouseConstraint = MouseConstraint.create(engine, {
  mouse,
  constraint: {
    stiffness: 0.15,
    damping: 0.1,
    render: { visible: false }
  }
});

Composite.add(engine.world, mouseConstraint);
render.mouse = mouse;


  // --- ONE-TIME: spawn "hannes." next to each other, then let it fall
  async function spawnHannesOnce() {
    const word = "hannes";
    const files = word.split("").map(c => `./svg/${c}.svg`);

    const w = mountEl.clientWidth || innerWidth;
    const h = mountEl.clientHeight || innerHeight;

    // Big, but not too huge
    const targetHeight = Math.max(220, Math.min(520, h * 0.35));
    const gap = Math.max(28, targetHeight * 0.14);
    const y = h * 0.28; // spawn line

    // load all svgs
    const svgTexts = await Promise.all(files.map(fetchSvgText));

    // parse each letter
    const letterData = [];
    for (let i = 0; i < files.length; i++) {
      const svgEl = mountSvg(svgTexts[i]);

      const tmp = svgToVertexSets(svgEl, 1);
      const scale = tmp.height ? (targetHeight / tmp.height) : 1;
      const final = svgToVertexSets(svgEl, scale);

      unmountSvg();
      letterData.push({ ...final, file: files[i] });
    }

    // center the word horizontally
    const totalW = letterData.reduce((s, d) => s + d.width, 0) + gap * (letterData.length - 1);
    let x = (w - totalW) / 2;

    // spawn letters side by side
    letterData.forEach(d => {
      if (!d.sets.length) { x += d.width + gap; return; }

      const body = makeLetterBody(
        x + d.width / 2,
        y,
        d.sets,
        d.file
      );

      if (body) {
        // almost no rotation to avoid overlap at start
        Body.setAngle(body, (Math.random() - 0.5) * 0.04);
        Body.setAngularVelocity(body, (Math.random() - 0.5) * 0.01);
      }

      x += d.width + gap;
    });

    // dot at the end
    const dotR = Math.max(16, targetHeight * 0.10);
    const dot = Bodies.circle(
      x - gap * 0.35,
      y - targetHeight * 0.05,
      dotR,
      { restitution: 0.35, friction: 0.2, frictionAir: 0.02 }
    );
    applyStyle(dot);
    Composite.add(engine.world, dot);
  }

  // run once
  spawnHannesOnce().catch(console.error);

})();
</script>


</body>
</html>
